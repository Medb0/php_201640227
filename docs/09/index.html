<!doctype html>
<html lang="kr">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <title>9주차 리포트</title>
</head>

<body>

  <body>
    <div class="jumbotron jumbotron-fluid">
      <div class="container">
        <h1 class="display-4"><a href="..">9주차 리포트</a></h1>
        <p class="lead"> ๑'͡o_'͡o๑ </p>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col">
          <img src="./img/1.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            1.mysqli<br>
            phpinfo() 함수는 설치된 php에 대한 정보를 출력하는 함수이다.<br>
            데이터베이스가 연결이 된다면 mysqli 부분에 연결된 데이터베이스의 정보가 출력된다.
          </p>
        </div>
      </div>
      <hr>
      <div class="row">
        <div class="col">
          <img src="./img/2.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            2.PHP -> DB 접속<br>
            PHP에서 mysql에 접속할때 mysqli_connect라는 함수를 사용한다.<br>
            mysql 과 mysqli의 차이는 PHP가 버전업되고 mysql의 추가적인 개발이 힘들어져서 <br>
            복잡했던 mysql 을 PHP5에 대응할 수 있고 MySQL4.1를 완벽하게 지원할 수 있는 새로운 mysql 확장이 개발되었다. <br>
            이것이 바로 <u>mysqli</u> 이다.<br><br>

            mysqli_connect("접속서버","사용자명","사용자비밀번호","DB명");으로 사용된다.

          </p>
        </div>
      </div>
      <hr>

      <div class="row">
        <div class="col">
          <img src="./img/3.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            3. DB 속성파일 분리<br>
            mysqli_connect 함수의 인자값으로 들어갈 변수를 다른 파일로 분리해서 관리할 수 있다.
          </p>
        </div>
      </div>
      <hr>

      <div class="row">
        <div class="col">
          <img src="./img/4.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            4.mysql 접속 해제<br>
            DB에 계속 연결되어있으면 DB에 부하를 주게되고 성능에 저하가 일어날 수 있다. <br>
            따라서 DB를 접속을 해주는 것이 필요하다. <br>
            이 때 사용하는 함수는 mysqli_close(접속된DB) 이다.
          </p>
        </div>
      </div>
      <hr>

      <div class="row">
        <div class="col">
          <img src="./img/5.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            5.mysqli 객체<br>
            mysqli를 객체로 생성하여 사용할 수 있다. <br>
            이 때는 다른 객체와 같이 new 연산자를 이용해서 만들면 된다.
          </p>
        </div>
      </div>
      <hr>

      <div class="row">
        <div class="col">
          <img src="./img/6.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            6. 쿼리 실행<br>
            쿼리를 실행할때는 mysqli_query()라는 함수를 사용하면 된다.
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <img src="./img/7.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            7.database.php 생성 <br>
            DB에 관련된 코드를 새 파일에 저장해서 사용하면 코드의 가독성이 높아지니 참고해두자.
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <img src="./img/8a.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <img src="./img/8b.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            8.연상 배열을 활용한 DB 접속<br>
            연상 배열(키 => 값)을 사용하면 추후에 DB가 바뀌더라도 쉽게 수정할 수 있다.<br>
            dfconf.php 에서 값을 반환할 때에도 배열을 이용하면된다.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <img src="./img/9.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            9. 쿼리를 처리하는 메소드 생성<br>
            DB 파일에 쿼리를 처리하는 메소드를 만들어서 분리해 놓으면 나중에 재사용을 할 수 있어 효율적이게 된다.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <img src="./img/10.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            10. 테이블이 생성되있는지 확인하는 메소드 <br>
            쿼리를 처리하는 메소드처럼 테이블이 생성되있는지 확인하는 메소드를 만든다.<br>
            방식은 간단하게 쿼리로 "Show Tables" 를 실행하고, <br>
            mysqli_fetch_object() 함수를 사용한다.<br>
            mysqli_fetch_object() 함수는 쿼리 결과를 객체로 만들어서 반환하는 함수이다.<br>
            isTable("테이블명") 함수에 테이블명에 해당하는 table이 있다면 true를 반환하게 되고 <br>
            if문을 사용해 true 일 경우에 테이블이 존재한다고 출력한다.
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <img src="./img/11.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            11. 복합 객체 + 은닉화 + Table 클래스 생성<br>
            사진에 나온것처럼 Table 클래스를 private로 선언해두면 다른 파일에서는 접근이 불가능하다. <br>
            하지만 public으로 선언된 getter , setter 함수를 선언해서 접근을 시도하면 접근이 가능하다. <br>
            이것을 은닉화라고 한다. <br>
            은닉화를 함으로써 보안이 강해지고 , 추후에 코드를 수정할때 일일히 코드를 찾을 필요없이 Table 클래스에서만 바꾸면 전체가 적용되기 때문에 코드가 효율적이게 된다.
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <img src="./img/12.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            12. 객체를 사용하는방법 <br>
            $db->setTable(new Table($db))->getTable()->createTable();<br><br>
            위 코드는 메소드체인 기법을 활용하여 객체를 생성하고 그 객체안에 있는 클래스를 생성하고 은닉화된 클래스에 접근하여 메소드를 실행하는 방법이다. <br>
            index.php -> database.php -> Table.php <br>
            트렌디한 방식이니 익혀둘것
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <img src="./img/13a.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <img src="./img/13b.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            13a. 쿼리 빌더(Query Bulider) + 13b <br>
            쿼리 부분을 수정한다. <br>
            쿼리 중간에 문자열을 연결할때 사용하는 ' . ' 을 사용하여 변수를 넣어줄 수 있다. <br>
            변수가 가능하다면 배열도 가능하다 <br>
            연상 배열과 foreach문을 사용한다면 편리하게 사용할 수 있다. <br>
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <img src="./img/14.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            14. 싱글톤 패턴 <br>
            싱글톤 패턴(Singleton Pattern)이란?<br>
              - 인스턴스가 프로그램 내에서 오직 하나만 생성되는 것을 보장하고, 프로그램 어디에서든 이 인스턴스에 접근할 수 있도록 하는 패턴이다. <br>
              - 즉, 인스턴스가 사용될 때 똑같은 인스턴스를 여러 개 만드는 것이 아니라, 기존에 생성했던 동일한 인스턴스를 사용하게끔 하는 것을 말한다.
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <img src="./img/15.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            15. 팩토리 패턴 <br>
            팩토리 패턴(Factory Pattern)이란? <br>
              - 객체를 생성하기 위한 인터페이스를 정의하는데, 어떤 클래스의 인스턴스를 만들지는 서브클래스에서 결정하는 패턴을 말한다.<br>
              - 즉, new 키워드를 사용하는 부분을 서브클래스에 위임함으로 써 객체 생성을 캡슐화하고 구상클래스에 대한 의존성이 줄어든다는 이점을 얻을 수 있다.
          </p>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <img src="./img/16.png" alt="..." class="img-thumbnail">
        </div>
        <div class="col">
          <p>
            16. 전략 패턴 <br>
            전략 패턴 (Strategy Pattern)이란? <br>
              - 객체들이 할 수 있는 행위 각각에 대해 전략 클래스를 생성하고, 유사한 행위들을 캡슐화 하는 인터페이스를 정의하여,<br>
                객체의 행위를 동적으로 바꾸고 싶은 경우 직접 행위를 수정하지 않고 전략을 바꿔주기만 함으로써 행위를 유연하게 확장하는 방법을 말합니다. <br>
              - 간단히 말해서 객체가 할 수 있는 행위들 각각을 전략으로 만들어 놓고, 동적으로 행위의 수정이 필요한 경우 전략을 바꾸는 것만으로 행위의 수정이 가능하도록 만든 패턴이다.
          </p>
        </div>
      </div>
    </div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>

  </html>
